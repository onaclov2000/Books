import urllib2
import json

def find_book_details(isbn):

   response = urllib2.urlopen('http://openlibrary.org/search.json?isbn=' + isbn.upper())
   data = json.load(response)
   docs = data["docs"]
   try:
      print "   \"title\" : \"" + docs[0]["title"] + "\","
   except (KeyError, IndexError, UnicodeEncodeError): pass
   print "   \"authors\" : " + "[",
   try:
      if len(docs[0]["author_name"]) > 1:
         for author in docs[0]["author_name"]:
            print "\"" + author + "\",",
      else:
         print "\"" + docs[0]["author_name"][0] + "\"",
   except (KeyError, IndexError, UnicodeEncodeError): pass
   print "],"
   # print ",",
   # try:
      # for subject in docs[0]["subject"]:
         # print subject + ":",
   # except (KeyError, IndexError, UnicodeEncodeError): pass   
   print "   \"isbn\" : \"" + isbn.upper() + "\""
   

isbns = ["0880382678",
"0880389125",
"0786929863",
"0786905239",
"0880386533",
"156076340x",
"1560761148",
"0786928573",
"0880385979",
"0880389117",
"0880386258",
"0786929502",
"0880386525",
"1560761148",
"0786927089",
"0880384549",
"1560763396",
"1560766506",
"9780786947898",
"0880385197",
"0880389109",
"1560763361",
"978078694219",
"078693770x",
"088038722x",
"1560763396",
"0786918616",
"0786902027",
"1560768304",
"0786900911",
"078690108x",
"0786918071",
"0786939788",
"0880389109",
"0786900911",
"1560764317",
"0786931469",
"0786901829",
"0786913150",
"0880389214",
"0880383828",
"078691324x",
"0786907851",
"0786904976",
"0786916788",
"0786913819",
"0880385979",
"0880389095",
"0786936371",
"0786914297",
"156076113x",
"0786937424",
"0880389125",
"1560764309",
"0786901179",
"1560761164",
"0786901381",
"0880385480",
"0786907495",
"0786918055",
"0786907088",
"0786904720",
"0786913142",
"0880381736",
"0880385480",
"0786902604",
"0786932457",
"0786918071",
"1560763264",
"0786915676",
"1560760516",
"0880385480",
"0786918047",
"078690108x",
"1560760699",
"9780786950669",
"0786927062",
"0880383828",
"0786927003",
"0786929502",
"0786927526",
"0880387769",
"1560761156",
"078690481x",
"0786927062",
"0880384549",
"0880389214",
"1560761164",
"0394848357",
"0307119424",
"0307119386",
"0307115208",
"0439778123",
"0307119750",
"1577190890",
"0394826655",
"0590968246",
"0394829085",
"9780307118394",
"0307618862",
"0394854438",
"0307117235",
"9780394868806",
"0307119386",
"0060539461",
"0307119408",
"0394848365",
"0394-851323",
"030711838x",
"0307119432",
"0307119424"
]
for isbn in isbns:
   #find_book_details('9780029166826')
   find_book_details(isbn)
